<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Apple Style Landing Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      defer
      src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <style>
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .animate-fade-in {
        animation: fadeIn 1s ease-out forwards;
      }

      .glass-effect {
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
      }

      .scroll-trigger {
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.6s ease-out;
      }

      .scroll-trigger.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .parallax-section {
        height: 150vh;
        position: relative;
        overflow: hidden;
      }
      
      .sticky-container {
        position: sticky;
        top: 0;
        height: 100vh;
        overflow: hidden;
      }

      /* 添加平滑滚动 */
      html {
        scroll-behavior: smooth;
      }

      /* 优化转场效果 */
      .transform-gpu {
        transform: translateZ(0);
        backface-visibility: hidden;
        perspective: 1000px;
      }

      /* 优化图片性能 */
      .will-change-transform {
        will-change: transform;
      }
    </style>
  </head>
  <body
    class="bg-black text-white"
    x-data="{ navHidden: false, lastScroll: 0 }"
    @scroll.window="
        navHidden = window.scrollY > lastScroll && window.scrollY > 100;
        lastScroll = window.scrollY;
      "
  >
    <!-- 导航栏 -->
    <nav
      class="fixed w-full z-50 transition-transform duration-300"
      :class="{ '-translate-y-full': navHidden }"
    >
      <div class="glass-effect bg-black/30 px-6 py-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
          <div class="flex items-center space-x-8">
            <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none">
              <path
                d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z"
                fill="currentColor"
              />
            </svg>
            <div class="hidden md:flex space-x-6">
              <a href="#" class="hover:text-gray-300 transition-colors">Mac</a>
              <a href="#" class="hover:text-gray-300 transition-colors">iPad</a>
              <a href="#" class="hover:text-gray-300 transition-colors"
                >iPhone</a
              >
              <a href="#" class="hover:text-gray-300 transition-colors"
                >Watch</a
              >
            </div>
          </div>
          <button class="md:hidden">
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16m-16 6h16"
              ></path>
            </svg>
          </button>
        </div>
      </div>
    </nav>

    <!-- 英雄区块 -->
    <section class="parallax-section">
      <div class="sticky-container flex items-center justify-center">
        <div class="text-center space-y-4 z-10 transform transition-transform duration-1000" id="hero-text">
          <h1 class="text-7xl font-bold text-white">iPhone 15 Pro</h1>
          <p class="text-3xl text-gray-200">Titanium. So strong. So light. So Pro.</p>
          <a href="#" class="inline-block mt-4 bg-white text-black px-8 py-3 rounded-full hover:bg-gray-200 transition-colors">
            Learn more
          </a>
        </div>
        <div class="absolute inset-0">
          <img src="https://images.unsplash.com/photo-1517336714731-489689fd1ca8"
               alt="Hero Image"
               class="w-full h-full object-cover scale-100 transition-all duration-1000 transform-gpu will-change-transform"
               id="hero-img" />
        </div>
      </div>
    </section>

    <!-- 添加过渡区域 -->
    <div class="h-screen relative overflow-hidden bg-gradient-to-b from-black to-white transform-gpu" id="transition-section">
        <div class="absolute inset-0 flex items-center justify-center">
            <div class="text-center transform-gpu" id="transition-text">
                <h2 class="text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-b from-white to-black">
                    Seamless Experience
                </h2>
            </div>
        </div>
    </div>

    <!-- 产品展示区 -->
    <section class="parallax-section bg-white">
      <div class="sticky-container flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 transform-gpu">
          <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9"
               alt="Product Image"
               class="w-full h-full object-cover transition-all duration-1000 transform-gpu will-change-transform"
               id="second-img" />
        </div>
        <div class="relative z-10 max-w-4xl mx-auto px-4 flex gap-8" id="feature-cards">
          <div class="bg-black/80 backdrop-blur-md p-8 rounded-2xl transform transition-all duration-1000">
            <h2 class="text-3xl font-bold text-white mb-4">A17 Pro chip</h2>
            <p class="text-xl text-gray-300">The fastest chip ever in iPhone.</p>
          </div>
          <div class="bg-black/80 backdrop-blur-md p-8 rounded-2xl transform transition-all duration-1000">
            <h2 class="text-3xl font-bold text-white mb-4">Pro camera</h2>
            <p class="text-xl text-gray-300">48MP Main camera system</p>
          </div>
        </div>
      </div>
    </section>

    <!-- 第三个展示区域 -->
    <section class="min-h-screen bg-black py-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-20 items-center min-h-screen">
                <div class="space-y-8 scroll-trigger">
                    <h2 class="text-5xl font-bold bg-gradient-to-r from-white to-gray-500 bg-clip-text text-transparent">
                        Revolutionary Camera System
                    </h2>
                    <p class="text-xl text-gray-400">
                        Capture stunning detail with our most advanced camera system ever.
                        48MP main camera delivers mind-blowing resolution.
                    </p>
                    <a href="#" class="inline-block bg-white text-black px-8 py-3 rounded-full hover:bg-gray-200 transition-colors">
                        Explore cameras
                    </a>
                </div>
                <div class="relative h-[600px] scroll-trigger">
                    <img src="https://images.unsplash.com/photo-1592434134753-a70baf7979d5"
                         alt="Camera Detail"
                         class="w-full h-full object-cover rounded-3xl transform hover:scale-105 transition-transform duration-700"
                         loading="lazy" />
                </div>
            </div>
        </div>
    </section>

    <!-- 第四个展示区域 -->
    <section class="min-h-screen bg-white py-20">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-20 items-center min-h-screen">
                <div class="relative h-[600px] scroll-trigger order-2 md:order-1">
                    <img src="https://images.unsplash.com/photo-1605236453806-6ff36851218e"
                         alt="Design Detail"
                         class="w-full h-full object-cover rounded-3xl transform hover:scale-105 transition-transform duration-700"
                         loading="lazy" />
                </div>
                <div class="space-y-8 scroll-trigger order-1 md:order-2">
                    <h2 class="text-5xl font-bold text-black">
                        Titanium Design
                    </h2>
                    <p class="text-xl text-gray-600">
                        Our most premium material ever in iPhone.
                        Aerospace‑grade titanium makes iPhone 15 Pro our lightest Pro model ever.
                    </p>
                    <a href="#" class="inline-block bg-black text-white px-8 py-3 rounded-full hover:bg-gray-800 transition-colors">
                        Learn about design
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 页脚 -->
    <footer class="bg-black text-white">
        <!-- 主要链接区域 -->
        <div class="max-w-7xl mx-auto px-6 py-20">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold mb-6">Shop and Learn</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Store</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Mac</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">iPad</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">iPhone</a></li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold mb-6">Services</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Apple Music</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Apple TV+</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Apple Fitness+</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Apple News+</a></li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold mb-6">Apple Store</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Find a Store</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Genius Bar</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Today at Apple</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Apple Camp</a></li>
                    </ul>
                </div>
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold mb-6">About Apple</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Newsroom</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Careers</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Investors</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Ethics</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- 分隔线 -->
            <div class="border-t border-gray-800 pt-8">
                <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
                    <p class="text-gray-400 text-sm">
                        Copyright © 2024 Apple Inc. All rights reserved.
                    </p>
                    <div class="flex space-x-6">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm">Privacy Policy</a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm">Terms of Use</a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm">Legal</a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors text-sm">Site Map</a>
                    </div>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.164 6.839 9.49.5.09.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.577.688.48C19.138 20.161 22 16.418 22 12c0-5.523-4.477-10-10-10z"/>
                            </svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
      // 节流函数
      function throttle(func, limit) {
        let inThrottle;
        return function(...args) {
          if (!inThrottle) {
            func.apply(this, args);
            inThrottle = true;
            setTimeout(() => inThrottle = false, limit);
          }
        }
      }

      // 优化的滚动处理函数
      function handleScroll() {
        requestAnimationFrame(() => {
          const scrolled = window.scrollY;
          const heroImg = document.getElementById("hero-img");
          const heroText = document.getElementById("hero-text");
          const secondImg = document.getElementById("second-img");
          const featureCards = document.getElementById("feature-cards");
          const transitionSection = document.getElementById("transition-section");
          const transitionText = document.getElementById("transition-text");

          // 第一个区域效果
          if (heroImg && heroText) {
            const scale = 1 + scrolled * 0.001;
            const limitedScale = Math.min(scale, 1.5);
            const brightness = Math.max(0.6, 1 - scrolled * 0.001);

            heroImg.style.transform = `scale3d(${limitedScale}, ${limitedScale}, 1)`;
            heroImg.style.filter = `brightness(${brightness})`;

            const opacity = Math.max(0, 1 - scrolled * 0.002);
            heroText.style.transform = `translate3d(0, ${-scrolled * 0.3}px, 0)`;
            heroText.style.opacity = opacity;
          }

          // 过渡区域效果
          if (transitionSection && transitionText) {
            const transitionOffset = transitionSection.offsetTop;
            const relativeTransitionScroll = scrolled - transitionOffset;
            
            if (relativeTransitionScroll > -window.innerHeight && relativeTransitionScroll < window.innerHeight) {
              const transitionProgress = Math.max(0, Math.min(1, relativeTransitionScroll / window.innerHeight));
              transitionText.style.opacity = 1 - Math.abs(transitionProgress - 0.5) * 2;
              transitionText.style.transform = `translate3d(0, ${-relativeTransitionScroll * 0.2}px, 0)`;
            }
          }

          // 第二个区域效果
          const secondSection = document.querySelector("section:nth-child(4)");
          if (secondSection) {
            const secondOffset = secondSection.offsetTop;
            const relativeScroll = Math.max(0, scrolled - secondOffset);
            const viewportHeight = window.innerHeight;

            if (relativeScroll > -viewportHeight && relativeScroll < viewportHeight * 2) {
              if (secondImg) {
                const secondScale = 1 + relativeScroll * 0.0003;
                const translateY = Math.min(relativeScroll * 0.1, 100);
                secondImg.style.transform = `scale3d(${secondScale}, ${secondScale}, 1) 
                                           translate3d(0, ${translateY}px, 0)`;
              }

              if (featureCards) {
                const cards = featureCards.children;
                Array.from(cards).forEach((card, index) => {
                  const direction = index ? 1 : -1;
                  const translateX = Math.min(relativeScroll * 0.2, 100) * direction;
                  const translateY = Math.min(-relativeScroll * 0.1, 0);
                  const cardOpacity = Math.max(0.2, 1 - relativeScroll * 0.001);
                  
                  card.style.transform = `translate3d(${translateX}px, ${translateY}px, 0)`;
                  card.style.opacity = cardOpacity;
                });
              }
            }
          }
        });
      }

      // 使用节流的滚动监听
      window.addEventListener("scroll", throttle(handleScroll, 16));

      // 初始化时执行一次
      handleScroll();

      // 添加 resize 监听以处理窗口大小变化
      window.addEventListener("resize", throttle(handleScroll, 16));

      // 滚动触发动画
      const observerOptions = {
        root: null,
        rootMargin: "0px",
        threshold: 0.1,
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      }, observerOptions);

      document.querySelectorAll(".scroll-trigger").forEach((element) => {
        observer.observe(element);
      });
    </script>
  </body>
</html>
